#!/usr/bin/env ruby

require File.expand_path '../../lib/requires.rb', __FILE__

init_time = Time.now
AppConfigParams.load_app_config_params

AppLogger.add_stdout_logger
logger = AppLogger.create_logger (Theotokos = Class.new)

logger.info 'Initialize WS test application...'
models = ExecutionInitializer.load_test_models
logger.debug "Got test models: #{models.join(', ')}"

logger.info 'Initialize executors'
main_executor = ExecutionInitializer.new do |e|
  e.command = Execution.new {|e| e.test_files = models }
end
app_result = main_executor.init_executors

puts diff_time init_time, Time.now
